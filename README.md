# LiveStream Extractor

## 项目概述

LiveStream Extractor是一款Chrome浏览器扩展，用于提取热门直播平台（如抖音、哔哩哔哩）直播间的直播流链接，方便用户进行实时录制或其他用途。该扩展采用Manifest V3架构，具有高效、稳定、易用的特点。

## 功能特性

- **多平台支持**：支持抖音、哔哩哔哩等热门直播平台
- **多种提取策略**：采用多种技术手段从页面中提取直播流链接，提高成功率
- **详细流信息**：提供直播流的完整信息，包括清晰度、格式、编码、分辨率、码率、HDR类型等
- **智能过滤**：支持按类型、清晰度、格式、编码、HDR类型、码率、分辨率等条件进行过滤
- **链接测试**：支持单个链接测试和批量测试，验证直播流的有效性
- **一键复制**：方便快捷地复制直播流链接
- **用户友好界面**：简洁明了的侧边栏设计，操作便捷
- **实时更新**：支持手动刷新获取最新的直播流信息

## 安装部署指南

### 从源代码安装

1. 克隆或下载本项目到本地
2. 打开Chrome浏览器，访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目根目录，点击"选择文件夹"
6. 扩展安装成功，即可在浏览器右上角看到LiveStream Extractor图标

### 快捷键

- **Ctrl+Shift+A** (Windows/Linux)
- **MacCtrl+Shift+A** (Mac)

## 使用方法

1. 打开任意支持的直播平台直播间
2. 点击浏览器右上角的LiveStream Extractor图标，或使用快捷键打开侧边栏
3. 扩展将自动提取当前直播间的直播流链接
4. 在侧边栏中查看提取到的直播流信息
5. 使用过滤功能筛选所需的直播流
6. 点击"测试连接"按钮验证链接有效性
7. 点击"复制链接"按钮复制直播流URL
8. 可点击"一键测试所有链接"批量测试所有提取到的直播流

## 技术栈

| 技术/框架 | 版本 | 用途 |
|----------|------|------|
| JavaScript | ES6+ | 核心功能实现 |
| HTML | 5 | 扩展界面 |
| CSS | 3 | 样式设计 |
| Chrome Extension API | Manifest V3 | 浏览器扩展功能 |

## 核心功能模块

### 1. 直播流提取模块

- **抖音直播流提取**：通过多种策略从抖音直播间页面提取直播流URL

- **哔哩哔哩直播流提取**：从哔哩哔哩直播间页面提取直播流URL

### 2. 侧边栏管理模块

- 提供用户交互界面
- 显示提取到的直播流信息
- 提供过滤、测试、复制等功能

### 3. 链接测试模块

- 支持单个链接测试
- 支持批量链接测试
- 显示测试结果和统计信息

## 数据流程

1. 用户打开直播平台直播间
2. 点击扩展图标打开侧边栏
3. 侧边栏向当前标签页发送消息，请求提取直播流
4. 内容脚本执行提取逻辑，获取直播流数据
5. 内容脚本将提取到的数据发送回侧边栏
6. 侧边栏处理数据，显示在表格中
7. 用户进行过滤、测试、复制等操作
8. 测试模块发送请求验证直播流有效性
9. 更新测试结果显示

## 开发文档

### 项目结构

```
LiveStreamExtractor/
├── images/                # 扩展图标
│   ├── icon-128.png
│   ├── icon-16.png
│   └── icon-48.png
├── content.js             # 内容脚本，用于提取直播流
├── extract_bilibili_live_streams.js  # 哔哩哔哩直播流提取逻辑
├── extract_douyin_data.js  # 抖音数据提取逻辑
├── extract_douyin_live_streams.js  # 抖音直播流提取逻辑
├── manifest.json          # 扩展配置文件
├── service-worker.js      # 扩展后台脚本
├── sidebar.js             # 侧边栏逻辑
├── sidepanel.html         # 侧边栏HTML
├── style.css              # 样式文件
├── test_codec_extraction.js  # 编码提取测试
└── test_stream_data.js    # 流数据测试
```

### 主要文件说明

| 文件名 | 功能说明 |
|--------|----------|
| manifest.json | 扩展的配置文件，定义了扩展的基本信息、权限、脚本等 |
| content.js | 内容脚本，注入到页面中执行直播流提取逻辑 |
| sidebar.js | 侧边栏的核心逻辑，处理数据展示、用户交互等 |
| sidepanel.html | 侧边栏的HTML结构 |
| style.css | 侧边栏的样式设计 |
| service-worker.js | 扩展的后台脚本，处理扩展的生命周期事件 |


## 免责声明

本扩展仅用于学习和研究目的，请勿用于任何非法用途。使用本扩展提取的直播流链接请遵守相关平台的使用条款和法律法规。
